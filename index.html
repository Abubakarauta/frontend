<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Booking Home</title>
    <!-- Include Bootstrap CSS -->
    <link href="bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="bootstrap-5.1.3-dist\bootstrap-icons\bootstrap-icons-1.11.1\bootstrap-icons.min.css" rel="stylesheet">

    <link href="style.css" rel="stylesheet">

    <!-- Custom CSS for your website -->

</head>

<body>



    <div class="container-fluid ">
        <div class="row">
            <!-- <div class="col-md-6 offset-md-3"> -->
                <nav class="navbar navbar-expand-lg navbar-light navi">
                    <div class="container">
                        <a class="navbar-brand text-white me-auto" href="index.html">BookMyBus</a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                            aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav ms-auto">
                                <li class="nav-item">
                                    <a class="nav-link text-white" href="profile.html">Profile</a>
                                </li>
                               
                                <li class="nav-item">
                                    <a class="nav-link text-white" href="booking_history.html">History</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link text-white" href="about.html">About</a>
                                </li>
                                <li class="nav-item">
                                    <a class ="nav-link text-white" href="contact.html">Contact Us</a>
                                </li>
                                <!-- Remove the "Booking" option -->
                                <!-- <li class="nav-item">
                                    <a class="nav-link text-white" href="bus_booking.html">Booking</a>
                                </li> -->
                                
                                <li class="nav-item">
                                    <a class="nav-link text-white" id="logout" href="#" onclick="logoutUser()">Logout</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
                
                <h1 class="text-center mt-3">Welcome to Bus Booking</h1>
                <p class="text-center">Find the perfect bus for your journey!</p>
                <!-- Search Form -->
                <form id="search-form" action="./bus_details.html" class="search-form">
                    <!-- <div class="mb-3 d-flex align-items-center"> -->
                        <fieldset class="form-group">
                             <h1 class="text-center ">search</h1>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-arrow-left-right"></i></span>
                                <input type="text" name="departure" class="form-control" id="departure-location" list="departure-list"
                                    name="departure_location" required placeholder="From">
                                <datalist id="departure-list"></datalist>

                                <span class="input-group-text"><i class="bi bi-arrow-left-right"></i></span>
                                <input type="text" name="arrival" class="form-control" id="arrival-location" list="arrival-list"
                                    name="arrival_location" required placeholder="To">
                                <datalist id="arrival-list"></datalist>
                                <div class=" form-control btn-custom">
                                    <button type="submit" class="btn-custom btn">Search Buses</button>
                                    <!-- <a href="bus_details.html" class="btn-custom btn">Search Buses</a> -->
                                </div>

                            </div>
                        </fieldset>
                    </div>
                </form>


                 <!-- Footer -->
                 <footer class="footer mt-5">
                    <div class="container text-center">
                        <p>&copy; 2023 BookMyBus. All rights reserved.</p>
                        <p>Contact us at <a href="mailto:info@bookmybus.com">info@bookmybus.com</a></p>
                        <!-- Add social media links (replace with actual URLs) -->
                        <div class="social-media">
                            <a href="https://facebook.com/bookmybus" target="_blank" title="Facebook"><i class="bi bi-facebook"></i></a>
                            <a href="https://twitter.com/bookmybus" target="_blank" title="Twitter"><i class="bi bi-twitter"></i></a>
                            <a href="https://instagram.com/bookmybus" target="_blank" title="Instagram"><i class="bi bi-instagram"></i></a>
                        </div>
                    </div>
                </footer>

            <!-- </div> -->
        </div>
    </div>

    <!-- Include Bootstrap JavaScript (and any other scripts you may need) -->
    <script src="bootstrap-5.1.3-dist/js/bootstrap.min.js"></script>
    <script src="javascript.js"></script> <!-- Include your custom JavaScript file -->
    <!-- <script src="javascript.js"></script> Include your custom JavaScript file -->
    <script>
        let locations = [];
        const arrivalList = document.querySelector('#arrival-list');
        const departureList = document.querySelector('#departure-list');

        async function fetchItems() {
            try {
                let res = await fetch("http://localhost:8000/api/booking/buses/search");
            res = await res.json();

            locations = res;
            res.forEach(item => {
                console.table(item);

                let ele1 = document.createElement('option');
                let ele2 = document.createElement('option');
                ele1.setAttribute('value', item.arrival_location)
                ele2.setAttribute('value', item.departure_location)

                arrivalList.append(ele1);
                departureList.append(ele2);
            })

            console.log(departureList.children);
            } catch (error) {
                console.error(error);
            }
        };

        fetchItems();
    </script>

</body>

</html>